<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="controllers.CollabRequestFormController" 
      spacing="20" style="-fx-padding: 30; -fx-background-color: white;">
    
    <!-- Titre -->
    <Label text="âž• CrÃ©er une nouvelle demande de collaboration" 
           style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;"/>
    
    <Label text="Remplissez le formulaire ci-dessous pour publier votre demande" 
           style="-fx-font-size: 14px; -fx-text-fill: #757575;"/>
    
    <Separator/>
    
    <!-- Formulaire -->
    <GridPane hgap="20" vgap="18" style="-fx-padding: 10;">
        <columnConstraints>
            <ColumnConstraints minWidth="150" prefWidth="150"/>
            <ColumnConstraints minWidth="450" prefWidth="450"/>
        </columnConstraints>
        
        <!-- ID Demandeur -->
        <Label text="ID Demandeur *" GridPane.rowIndex="0" GridPane.columnIndex="0" 
               style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
        <TextField fx:id="requesterIdField" promptText="Entrez votre ID utilisateur (ex: 2)" 
                   GridPane.rowIndex="0" GridPane.columnIndex="1" 
                   style="-fx-font-size: 14px;"/>
        
        <!-- Titre -->
        <Label text="Titre *" GridPane.rowIndex="1" GridPane.columnIndex="0" 
               style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
        <TextField fx:id="titleField" promptText="Ex: RÃ©colte olives - Nabeul" 
                   GridPane.rowIndex="1" GridPane.columnIndex="1" 
                   style="-fx-font-size: 14px;"/>
        
        <!-- Description -->
        <Label text="Description" GridPane.rowIndex="2" GridPane.columnIndex="0" 
               style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
        <TextArea fx:id="descriptionArea" promptText="DÃ©crivez votre besoin en dÃ©tail..." 
                  prefHeight="100" wrapText="true"
                  GridPane.rowIndex="2" GridPane.columnIndex="1" 
                  style="-fx-font-size: 14px;"/>
        
        <!-- Date dÃ©but -->
        <Label text="Date dÃ©but *" GridPane.rowIndex="3" GridPane.columnIndex="0" 
               style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
        <DatePicker fx:id="startDatePicker" promptText="Choisir une date" 
                    GridPane.rowIndex="3" GridPane.columnIndex="1" 
                    style="-fx-font-size: 14px;" prefWidth="450"/>
        
        <!-- Date fin -->
        <Label text="Date fin *" GridPane.rowIndex="4" GridPane.columnIndex="0" 
               style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
        <DatePicker fx:id="endDatePicker" promptText="Choisir une date" 
                    GridPane.rowIndex="4" GridPane.columnIndex="1" 
                    style="-fx-font-size: 14px;" prefWidth="450"/>
        
        <!-- Nombre de personnes -->
        <Label text="Nombre de personnes *" GridPane.rowIndex="5" GridPane.columnIndex="0" 
               style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
        <HBox spacing="10" GridPane.rowIndex="5" GridPane.columnIndex="1">
            <Spinner fx:id="neededPeopleSpinner" prefWidth="150" 
                     style="-fx-font-size: 14px;"/>
            <Label text="personne(s) recherchÃ©e(s)" style="-fx-text-fill: #757575; -fx-font-size: 13px;"/>
        </HBox>
    </GridPane>
    
    <Separator/>
    
    <!-- Message d'erreur -->
    <Label fx:id="errorLabel" wrapText="true" visible="false" 
           style="-fx-text-fill: #D32F2F; -fx-font-size: 14px; -fx-background-color: #FFEBEE; -fx-padding: 10; -fx-background-radius: 5;"/>
    
    <!-- Message de succÃ¨s -->
    <Label fx:id="successLabel" wrapText="true" visible="false" 
           style="-fx-text-fill: #2E7D32; -fx-font-size: 14px; -fx-background-color: #E8F5E9; -fx-padding: 10; -fx-background-radius: 5;"/>
    
    <!-- Boutons -->
    <HBox spacing="15" alignment="CENTER" style="-fx-padding: 10;">
        <Button text="âœ… CrÃ©er la demande" onAction="#handleSubmit" prefWidth="180"
                style="-fx-background-color: #2E7D32; -fx-text-fill: white; -fx-font-size: 15px; -fx-padding: 12; -fx-cursor: hand; -fx-font-weight: bold;"/>
        <Button text="ðŸ”„ RÃ©initialiser" onAction="#handleReset" prefWidth="150"
                style="-fx-background-color: #757575; -fx-text-fill: white; -fx-font-size: 15px; -fx-padding: 12; -fx-cursor: hand;"/>
    </HBox>
    
    <Label text="* Champs obligatoires" style="-fx-font-size: 12px; -fx-text-fill: #9E9E9E; -fx-font-style: italic;"/>
</VBox>
